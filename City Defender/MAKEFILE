# Compiler and compilation flags
CC = gcc
CFLAGS = -Wall -g

# Source files
SOURCES = CityDefender.c

# Header dependencies
HEADERS = Cards.h Board.h

# Object files (derived from source files)
OBJECTS = $(SOURCES:.c=.o)

# Executable file
TARGET = CityDefender

# Default target to build the executable
all: $(TARGET)

# Rule to link the object files into the executable
$(TARGET): $(OBJECTS)
	$(CC) $(CFLAGS) -o $(TARGET) $(OBJECTS)

# Rule to compile source files into object files
%.o: %.c
	$(CC) $(CFLAGS) -c $< -o $@ -MMD -MP

$(OBJECTS): $(HEADERS)

-include $(OBJECTS:.o=.d)

# Clean up generated files
clean:
	rm -f $(TARGET) $(OBJECTS)

# Phony targets
.PHONY: all clean
